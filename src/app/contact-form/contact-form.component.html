<div class="contact-form">

  <div class="contact-form__header">
    <div class="contact-form__header__wrapper">
      <div class="contact-form__header-panel  ">
        <div class="contact-form__header-panel__front-side"></div>
        <div class="contact-form__header-panel__text">Напишите нам</div>
        <div class="contact-form__header-panel__back-side"></div>
      </div>
    </div>
  </div>

  <form class="contact-form__form-block" [formGroup]="feedbackForm">

    <div class="contact-form__form-block__form-group" >

      <label>Ваше имя:</label>

      <div class="contact-form__form-block__form-group__input" >
        <img src="../../assets/icons/person_black_24dp.svg">
        <input type="text" name="name" formControlName="name">
      </div>

      <div class="contact-form__form-block__form-group__alert" *ngIf="feedbackForm.controls['name'].invalid && feedbackForm.controls['name'].touched">
        Некорректное имя
      </div>

    </div>

    <div class="contact-form__form-block__form-group">

      <label>Ваш Email:</label>

      <div class="contact-form__form-block__form-group__input">
        <img src="../../assets/icons/email_black_24dp.svg">
        <input type="text" name="email" formControlName="email">
      </div>

      <div class="contact-form__form-block__form-group__alert" *ngIf="feedbackForm.controls['email'].invalid && feedbackForm.controls['email'].touched">
        Некорректный email
      </div>

    </div>

    <div class="contact-form__form-block__form-group">

      <label>Ваш телефон:</label>

      <div class="contact-form__form-block__form-group__input">
        <img src="../../assets/icons/phone_black_24dp.svg">
        <input type="text" class="err" formControlName="tel" prefix="+7" mask=" (000) 000-00-00">
      </div>

      <div class="contact-form__form-block__form-group__alert" *ngIf="feedbackForm.controls['tel'].invalid && feedbackForm.controls['tel'].touched">
        некорректный телефон
      </div>

    </div>

    <div class="contact-form__form-block__form-group">

      <label>Тема:</label>

      <div class="contact-form__form-block__form-group__input" >
        <select formControlName="theme">
          <option *ngFor="let theme of themes">{{ theme }}</option>
        </select>
      </div>

    </div>

    <div class="contact-form__form-block__form-group">

      <label>Ваше сообщение:</label>

      <div class="contact-form__form-block__form-group__input" >
        <textarea formControlName="message"></textarea>
      </div>

      <div class="contact-form__form-block__form-group__alert" *ngIf="feedbackForm.controls['message'].invalid && feedbackForm.controls['message'].touched">
        Некорректное сообщение
      </div>
    </div>

    <div class="contact-form__form-block__form-group">

      <label>Цифры:</label>

      <div class="contact-form__form-block__form-group__captcha" >
        <input type="text" [(ngModel)]="captchaCode" [ngModelOptions] = "{standalone: true}" maxlength="4" (ngModelChange)="this.captchaIsValid = true">
        <img [src]=captchaUrl alt="" (click)="loadCaptcha()">
      </div>

      <div [hidden]="captchaIsValid"
        class="contact-form__form-block__form-group__alert contact-form__form-block__form-group__alert_captcha">
        Ошибка, попробуйте еще раз
      </div>
    </div>

    <button (click)="submit()" [disabled]="feedbackForm.controls['name'].invalid || feedbackForm.controls['email'].invalid || feedbackForm.controls['tel'].invalid || feedbackForm.controls['message'].invalid || btnDisabled">
      Отправить письмо!
    </button>

  </form>

</div>
